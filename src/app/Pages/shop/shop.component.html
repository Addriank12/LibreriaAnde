<main>
  <h2>Tienda</h2>

  <section class="search-section">
    <div>
      <label for="searchTitulo">Título:</label>
      <input type="text" id="searchTitulo" [(ngModel)]="searchTitulo" />
    </div>
    <div>
      <label for="searchAutor">Autor:</label>
      <input type="text" id="searchAutor" [(ngModel)]="searchAutor" />
    </div>
    <div>
      <label for="searchGenero">Género:</label>
      <input type="text" id="searchGenero" [(ngModel)]="searchGenero" />
    </div>
    <div>
      <label for="searchAnioPublicacion">Año de Publicación:</label>
      <input
        type="number"
        id="searchAnioPublicacion"
        [(ngModel)]="searchAnioPublicacion"
      />
    </div>
    <div>
      <label for="searchExistencias">Disponible:</label>
      <button class="toggle-button" (click)="toggleSearchExistencias()">
        {{ searchExistencias ? 'No Disponibles' : 'Disponibles' }}
      </button>
    </div>
    <button (click)="performAdvancedSearch()">Buscar</button>
  </section>

  <section class="shop-section">
    <div class="products">
      <div *ngIf="isLoading" class="loading">Cargando...</div>
      <div
        *ngFor="let libro of libros"
        [routerLink]="['/detalle-libro', libro.titulo]"
        class="product"
      >
        <div class="product-image-container">
          <img [src]="libro.imagen" alt="{{ libro.titulo }}" />
        </div>
        <div class="product-content">
          <h3>{{ libro.titulo }}</h3>
          <p>Autor: {{ libro.autor }}</p>
          <p>Existencias: {{ libro.existencias }}</p>
          <p>Año de Publicación: {{ libro.anioPublicacion }}</p>
          <p>Género: {{ libro.genero }}</p>
        </div>
      </div>
    </div>
  </section>
</main>
